(function(){"use strict";var e={8382:function(e,t,s){var a=s(9963),i=s(6252);const r={class:"main"};function c(e,t,s,a,c,l){const n=(0,i.up)("TheHeader"),o=(0,i.up)("TheHero"),d=(0,i.up)("TheCatalogFilters"),u=(0,i.up)("TheCatalogItems"),p=(0,i.up)("TheFooter");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(n),(0,i._)("main",r,[(0,i.Wm)(o,{crumbs:c.crumbs},{title:(0,i.w5)((()=>[(0,i.Uk)(" Каталог ")])),_:1},8,["crumbs"]),(0,i.Wm)(d,{onChangingFilters:l.filterChangeHandler},null,8,["onChangingFilters"]),(0,i.Wm)(u,{filters:c.filters},null,8,["filters"])]),(0,i.Wm)(p)],64)}var l=s(1395),n=s(9991);const o={class:"catalog-filters"},d={class:"container"},u=["inert"],p={class:"catalog-filters__filters"};function m(e,t,s,a,r,c){const l=(0,i.up)("LoadStatusHandler"),n=(0,i.up)("BaseTitle"),m=(0,i.up)("BaseSelect"),g=(0,i.up)("SelectedItems");return(0,i.wg)(),(0,i.iD)("section",o,[(0,i._)("div",d,[(0,i.Wm)(l,{ref:"loadStatusHandler",onStatusChange:c.loadStatusChangeHandler,onAttempt:c.attemptHandler},null,8,["onStatusChange","onAttempt"]),(0,i._)("div",{class:"catalog-filters__content",inert:r.contentIsLock},[(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Фильтры:")])),_:1}),(0,i._)("div",p,[(0,i.Wm)(m,{ref:"category",value:r.filters.category,"onUpdate:value":t[0]||(t[0]=e=>r.filters.category=e),class:"select-category",title:"Категория",items:r.valuesForFilters.category},null,8,["value","items"]),(0,i.Wm)(m,{ref:"colors",value:r.filters.colors,"onUpdate:value":t[1]||(t[1]=e=>r.filters.colors=e),class:"select-color",title:"Цвет",items:r.valuesForFilters.colors,multiple:!0},null,8,["value","items"])]),(0,i.Wm)(g,{items:c.listFiltersValue,onDeletingItem:c.itemDeletionHandler,onDeletingAll:c.handlerDeletionAll},{title:(0,i.w5)((()=>[(0,i.Uk)(" Выбранные фильтры ")])),"text-stub":(0,i.w5)((()=>[(0,i.Uk)(" Фильтры не выбраны ")])),_:1},8,["items","onDeletingItem","onDeletingAll"])],8,u)])])}s(7658),s(1703);function g(e,t){return Math.floor(Math.random()*(t-e)+e)}const b={colors:(e,{availability:t})=>{const s=new Set(Object.values(t).flat());return e.some((e=>s.has(e)))},category:([e],{category:t})=>e===t,newCollection:(e,{yearIssue:t=NaN})=>{const s=(new Date).getFullYear();return s==t}},h=["page","amount"];function f(e,t){return e.reduce(((e,s)=>{const a=Object.keys(t).every((e=>{const a=b[e];return!a||a(t[e],s)}));return a&&e.push(s),e}),[])}function w(e,t){const{page:s=null,amount:a=null}=Object.fromEntries(Object.entries(t).filter((([e])=>h.includes(e)))),i=(s-1)*a,r=a*s;return{data:e.slice(i,r),total:e.length}}async function y(e={}){const t=[{id:"fb62624c-ce10-44c9-9ce5-7d259b20741c",title:"Футболка USA",category:"Футболки",price:90,discount:25,gallery:{path:{"1x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@1x.webp","2x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@2x.webp","3x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@3x.webp"},alt:"Серая облегающая футболка с чёрной надписью USA на груди"},availability:{XXS:["Белый"],XS:["Чёрный","Белый"],S:["Чёрный"],M:["Серый","Чёрный","Белый"],L:["Серый","Чёрный","Белый"],XL:["Белый"],XXL:["Серый","Чёрный","Белый"]},yearIssue:2024},{id:"07c41167-ac05-4850-8d8d-fcd2914dde15",title:"Купальник Glow",category:"Купальники",price:70,discount:30,gallery:{path:{"1x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@1x.webp","2x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@2x.webp","3x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@3x.webp"},alt:"Чёрный сплошной купальник с формованными чашками"},availability:{XS:["Чёрный","Белый"],M:["Чёрный"],L:["Чёрный","Белый"],XL:["Чёрный","Белый"]},yearIssue:2024},{id:"7150e4ba-2b80-4d02-a91c-3a098a67914e",title:"Свитшот Sweet Shot",category:"Свитшоты",price:120,discount:20,gallery:{path:{"1x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@1x.webp","2x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@2x.webp","3x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@3x.webp"},alt:"Укороченный оверсайз свитшот белого цвета с манжетами"},availability:{XXS:["Белый","Бежевый"],XS:["Белый"],XL:["Белый","Фиолетовый"]},yearIssue:2024},{id:"fb62624c-ce10-44c9-9ce5-7d259b20741c1",title:"Lorem ipsum",category:"Футболки",price:90,discount:25,gallery:{path:{"1x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@1x.webp","2x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@2x.webp","3x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@3x.webp"},alt:"Серая облегающая футболка с чёрной надписью USA на груди"},availability:{XXS:["Белый"],XS:["Чёрный","Белый"],S:["Чёрный"],M:["Серый","Чёрный","Белый"],L:["Серый","Чёрный","Белый"],XL:["Белый"],XXL:["Серый","Чёрный","Белый"]},yearIssue:2024},{id:"07c41167-ac05-4850-8d8d-fcd2914dde152",title:"Lorem ipsum",category:"Купальники",price:70,discount:30,gallery:{path:{"1x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@1x.webp","2x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@2x.webp","3x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@3x.webp"},alt:"Чёрный сплошной купальник с формованными чашками"},availability:{XS:["Чёрный","Белый"],M:["Чёрный"],L:["Чёрный","Белый"],XL:["Чёрный","Белый"]},yearIssue:2024},{id:"7150e4ba-2b80-4d02-a91c-3a098a67914e3",title:"Lorem ipsum",category:"Свитшоты",price:120,discount:20,gallery:{path:{"1x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@1x.webp","2x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@2x.webp","3x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@3x.webp"},alt:"Укороченный оверсайз свитшот белого цвета с манжетами"},availability:{XXS:["Белый","Бежевый"],XS:["Белый"],XL:["Белый","Фиолетовый"]},yearIssue:2022},{id:"fb62624c-ce10-44c9-9ce5-7d259b20741c14",title:"Lorem ipsum",category:"Футболки",price:90,discount:25,gallery:{path:{"1x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@1x.webp","2x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@2x.webp","3x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@3x.webp"},alt:"Серая облегающая футболка с чёрной надписью USA на груди"},availability:{XXS:["Белый"],XS:["Чёрный","Белый"],S:["Чёрный"],M:["Серый","Чёрный","Белый"],L:["Серый","Чёрный","Белый"],XL:["Белый"],XXL:["Серый","Чёрный","Белый"]},yearIssue:2023},{id:"07c41167-ac05-4850-8d8d-fcd2914dde1525",title:"Lorem ipsum",category:"Купальники",price:70,discount:30,gallery:{path:{"1x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@1x.webp","2x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@2x.webp","3x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@3x.webp"},alt:"Чёрный сплошной купальник с формованными чашками"},availability:{XS:["Чёрный","Белый"],M:["Чёрный"],L:["Чёрный","Белый"],XL:["Чёрный","Белый"]},yearIssue:2020},{id:"7150e4ba-2b80-4d02-a91c-3a098a67914e36",title:"Lorem ipsum",category:"Свитшоты",price:120,discount:20,gallery:{path:{"1x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@1x.webp","2x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@2x.webp","3x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@3x.webp"},alt:"Укороченный оверсайз свитшот белого цвета с манжетами"},availability:{XXS:["Белый","Бежевый"],XS:["Белый"],XL:["Белый","Фиолетовый"]},yearIssue:2022},{id:"fb62624c-ce10-44c9-9ce5-7d259b20741c141",title:"Lorem ipsum",category:"Футболки",price:90,discount:25,gallery:{path:{"1x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@1x.webp","2x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@2x.webp","3x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@3x.webp"},alt:"Серая облегающая футболка с чёрной надписью USA на груди"},availability:{XXS:["Белый"],XS:["Чёрный","Белый"],S:["Чёрный"],M:["Серый","Чёрный","Белый"],L:["Серый","Чёрный","Белый"],XL:["Белый"],XXL:["Серый","Чёрный","Белый"]},yearIssue:2021},{id:"07c41167-ac05-4850-8d8d-fcd2914dde15251",title:"Lorem ipsum",category:"Купальники",price:70,discount:30,gallery:{path:{"1x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@1x.webp","2x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@2x.webp","3x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@3x.webp"},alt:"Чёрный сплошной купальник с формованными чашками"},availability:{XS:["Чёрный","Белый"],M:["Чёрный"],L:["Чёрный","Белый"],XL:["Чёрный","Белый"]},yearIssue:2023},{id:"7150e4ba-2b80-4d02-a91c-3a098a67914e361",title:"Lorem ipsum",category:"Свитшоты",price:120,discount:20,gallery:{path:{"1x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@1x.webp","2x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@2x.webp","3x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@3x.webp"},alt:"Укороченный оверсайз свитшот белого цвета с манжетами"},availability:{XXS:["Белый","Бежевый"],XS:["Белый"],XL:["Белый","Фиолетовый"]},yearIssue:2020},{id:"fb62624c-ce10-44c9-9ce5-7d259b20741c1411",title:"Lorem ipsum",category:"Футболки",price:90,discount:25,gallery:{path:{"1x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@1x.webp","2x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@2x.webp","3x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@3x.webp"},alt:"Серая облегающая футболка с чёрной надписью USA на груди"},availability:{XXS:["Белый"],XS:["Чёрный","Белый"],S:["Чёрный"],M:["Серый","Чёрный","Белый"],L:["Серый","Чёрный","Белый"],XL:["Белый"],XXL:["Серый","Чёрный","Белый"]},yearIssue:2022},{id:"07c41167-ac05-4850-8d8d-fcd2914dde152511",title:"Lorem ipsum",category:"Купальники",price:70,discount:30,gallery:{path:{"1x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@1x.webp","2x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@2x.webp","3x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@3x.webp"},alt:"Чёрный сплошной купальник с формованными чашками"},availability:{XS:["Чёрный","Белый"],M:["Чёрный"],L:["Чёрный","Белый"],XL:["Чёрный","Белый"]},yearIssue:2023},{id:"7150e4ba-2b80-4d02-a91c-3a098a67914e3611",title:"Lorem ipsum",category:"Свитшоты",price:120,discount:20,gallery:{path:{"1x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@1x.webp","2x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@2x.webp","3x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@3x.webp"},alt:"Укороченный оверсайз свитшот белого цвета с манжетами"},availability:{XXS:["Белый","Бежевый"],XS:["Белый"],XL:["Белый","Фиолетовый"]},yearIssue:2023},{id:"fb62624c-ce10-44c9-9ce5-7d259b20741c",title:"Lorem ipsum",category:"Футболки",price:90,discount:25,gallery:{path:{"1x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@1x.webp","2x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@2x.webp","3x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@3x.webp"},alt:"Серая облегающая футболка с чёрной надписью USA на груди"},availability:{XXS:["Белый"],XS:["Чёрный","Белый"],S:["Чёрный"],M:["Серый","Чёрный","Белый"],L:["Серый","Чёрный","Белый"],XL:["Белый"],XXL:["Серый","Чёрный","Белый"]},yearIssue:2021},{id:"07c41167-ac05-4850-8d8d-fcd2914dde15",title:"Lorem ipsum",category:"Купальники",price:70,discount:30,gallery:{path:{"1x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@1x.webp","2x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@2x.webp","3x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@3x.webp"},alt:"Чёрный сплошной купальник с формованными чашками"},availability:{XS:["Чёрный","Белый"],M:["Чёрный"],L:["Чёрный","Белый"],XL:["Чёрный","Белый"]},yearIssue:2020},{id:"7150e4ba-2b80-4d02-a91c-3a098a67914e",title:"Lorem ipsum",category:"Свитшоты",price:120,discount:20,gallery:{path:{"1x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@1x.webp","2x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@2x.webp","3x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@3x.webp"},alt:"Укороченный оверсайз свитшот белого цвета с манжетами"},availability:{XXS:["Белый","Бежевый"],XS:["Белый"],XL:["Белый","Фиолетовый"]},yearIssue:2022},{id:"fb62624c-ce10-44c9-9ce5-7d259b20741c1",title:"Lorem ipsum",category:"Футболки",price:90,discount:25,gallery:{path:{"1x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@1x.webp","2x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@2x.webp","3x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@3x.webp"},alt:"Серая облегающая футболка с чёрной надписью USA на груди"},availability:{XXS:["Белый"],XS:["Чёрный","Белый"],S:["Чёрный"],M:["Серый","Чёрный","Белый"],L:["Серый","Чёрный","Белый"],XL:["Белый"],XXL:["Серый","Чёрный","Белый"]},yearIssue:2023},{id:"fb62624c-ce10-44c9-9ce5-7d259b20741c14",title:"Lorem ipsum",category:"Футболки",price:90,discount:25,gallery:{path:{"1x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@1x.webp","2x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@2x.webp","3x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@3x.webp"},alt:"Серая облегающая футболка с чёрной надписью USA на груди"},availability:{XXS:["Белый"],XS:["Чёрный","Белый"],S:["Чёрный"],M:["Серый","Чёрный","Белый"],L:["Серый","Чёрный","Белый"],XL:["Белый"],XXL:["Серый","Чёрный","Белый"]},yearIssue:2020},{id:"07c41167-ac05-4850-8d8d-fcd2914dde1525",title:"Lorem ipsum",category:"Купальники",price:70,discount:30,gallery:{path:{"1x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@1x.webp","2x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@2x.webp","3x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@3x.webp"},alt:"Чёрный сплошной купальник с формованными чашками"},availability:{XS:["Чёрный","Белый"],M:["Чёрный"],L:["Чёрный","Белый"],XL:["Чёрный","Белый"]},yearIssue:2022},{id:"fb62624c-ce10-44c9-9ce5-7d259b20741c141",title:"Lorem ipsum",category:"Футболки",price:90,discount:25,gallery:{path:{"1x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@1x.webp","2x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@2x.webp","3x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@3x.webp"},alt:"Серая облегающая футболка с чёрной надписью USA на груди"},availability:{XXS:["Белый"],XS:["Чёрный","Белый"],S:["Чёрный"],M:["Серый","Чёрный","Белый"],L:["Серый","Чёрный","Белый"],XL:["Белый"],XXL:["Серый","Чёрный","Белый"]},yearIssue:2023},{id:"07c41167-ac05-4850-8d8d-fcd2914dde15251",title:"Lorem ipsum",category:"Купальники",price:70,discount:30,gallery:{path:{"1x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@1x.webp","2x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@2x.webp","3x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@3x.webp"},alt:"Чёрный сплошной купальник с формованными чашками"},availability:{XS:["Чёрный","Белый"],M:["Чёрный"],L:["Чёрный","Белый"],XL:["Чёрный","Белый"]},yearIssue:2023},{id:"7150e4ba-2b80-4d02-a91c-3a098a67914e361",title:"Lorem ipsum",category:"Свитшоты",price:120,discount:20,gallery:{path:{"1x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@1x.webp","2x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@2x.webp","3x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@3x.webp"},alt:"Укороченный оверсайз свитшот белого цвета с манжетами"},availability:{XXS:["Белый","Бежевый"],XS:["Белый"],XL:["Белый","Фиолетовый"]},yearIssue:2022},{id:"fb62624c-ce10-44c9-9ce5-7d259b20741c1411",title:"Lorem ipsum",category:"Футболки",price:90,discount:25,gallery:{path:{"1x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@1x.webp","2x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@2x.webp","3x":"productImgs/fb62624c-ce10-44c9-9ce5-7d259b20741c@3x.webp"},alt:"Серая облегающая футболка с чёрной надписью USA на груди"},availability:{XXS:["Белый"],XS:["Чёрный","Белый"],S:["Чёрный"],M:["Серый","Чёрный","Белый"],L:["Серый","Чёрный","Белый"],XL:["Белый"],XXL:["Серый","Чёрный","Белый"]},yearIssue:2020},{id:"07c41167-ac05-4850-8d8d-fcd2914dde152511",title:"Lorem ipsum",category:"Купальники",price:70,discount:30,gallery:{path:{"1x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@1x.webp","2x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@2x.webp","3x":"productImgs/07c41167-ac05-4850-8d8d-fcd2914dde15@3x.webp"},alt:"Чёрный сплошной купальник с формованными чашками"},availability:{XS:["Чёрный","Белый"],M:["Чёрный"],L:["Чёрный","Белый"],XL:["Чёрный","Белый"]},yearIssue:2021},{id:"7150e4ba-2b80-4d02-a91c-3a098a67914e3611",title:"Lorem ipsum",category:"Свитшоты",price:120,discount:20,gallery:{path:{"1x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@1x.webp","2x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@2x.webp","3x":"productImgs/7150e4ba-2b80-4d02-a91c-3a098a67914e@3x.webp"},alt:"Укороченный оверсайз свитшот белого цвета с манжетами"},availability:{XXS:["Белый","Бежевый"],XS:["Белый"],XL:["Белый","Фиолетовый"]},yearIssue:2022}],s=f(t,e),a=w(s,e);if(await new Promise((e=>{setTimeout(e,g(500,1500))})),1===g(1,25))throw new Error("Network error");return 1===g(1,25)?{}:1===g(1,25)?{total:3}:a}async function x(){const e={colors:["Чёрный","Белый","Серый","Бежевый","Фиолетовый"],category:["Футболки","Купальники","Свитшоты"],collection:[2020,2021,2022,2023]};if(await new Promise((e=>{setTimeout(e,g(1e3,3e3))})),1===g(1,15))throw new Error("Network error");return 1===g(1,15)?{}:1===g(1,15)?{colors:["Чёрный","Белый","Серый","Бежевый","Фиолетовый"]}:e}const I=function(e,t,s=function(e){return JSON.stringify(e)}){const a=new URL(window.location),i=s(t);a.searchParams.set(e,i),window.history.pushState({},"",a)},v=function(e,t=function(e){return JSON.parse(e)}){const s=new URL(window.location),a=s.searchParams.get(e),i=a&&t(a);return i},S=function(e){const t=new URL(window.location);t.searchParams.delete(e),window.history.pushState({},"",t)};function X(e,t){const s=Object.getOwnPropertyNames(e),a=Object.getOwnPropertyNames(t);if(s.length!==a.length)return!1;for(const i of s){const s="object"===typeof e[i]&&"object"===typeof t[i];if(!s&&e[i]!==t[i]||s&&!X(e[i],t[i]))return!1}return!0}var L=s(8875),_=s(5595),P=s(3577);const O={key:0,class:"select"},F={class:"select__title"},H={key:1,ref:"select",class:"select"},D={class:"select__title"},C=["aria-multiselectable"],k=["aria-selected","onPointerup","onKeydown"];function A(e,t,s,r,c,l){const n=(0,i.up)("BaseBtn"),o=(0,i.up)("SelectIcon");return l.itemsIsEmpty?((0,i.wg)(),(0,i.iD)("div",O,[(0,i.Wm)(n,{class:"button_hollow-gothic select__trigger",disabled:""},{default:(0,i.w5)((()=>[(0,i._)("span",F,(0,P.zw)(s.title),1)])),_:1})])):((0,i.wg)(),(0,i.iD)("div",H,[(0,i.Wm)(n,{ref:"trigger","aria-haspopup":"true","aria-expanded":c.isOpen,class:"button_hollow-gothic select__trigger",onPointerup:l.toggle,onKeydown:[(0,a.D2)(l.toggle,["enter"]),(0,a.D2)(l.toggle,["space"]),(0,a.D2)((0,a.iM)(l.pagedownHandlerOnTrigger,["prevent"]),["down"])]},{default:(0,i.w5)((()=>[(0,i._)("span",D,(0,P.zw)(s.title),1),(0,i.Wm)(o,{"aria-hidden":"true",class:"select__icon"})])),_:1},8,["aria-expanded","onPointerup","onKeydown"]),(0,i._)("div",{class:(0,P.C_)(["select__content",l.visibilityClass]),tabindex:"-1",role:"listbox","aria-multiselectable":s.multiple,onKeydown:[t[0]||(t[0]=(0,a.D2)(((...e)=>l.escapeHandlerOnContent&&l.escapeHandlerOnContent(...e)),["esc"])),t[1]||(t[1]=(0,a.D2)((0,a.iM)(((...e)=>l.increasesFocusIndex&&l.increasesFocusIndex(...e)),["prevent"]),["down"])),t[2]||(t[2]=(0,a.D2)((0,a.iM)(((...e)=>l.decreasesFocusIndex&&l.decreasesFocusIndex(...e)),["prevent"]),["up"]))]},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.items,(e=>((0,i.wg)(),(0,i.iD)("button",{ref_for:!0,ref:"items",key:e,role:"option",class:(0,P.C_)(["select__item",{select__item_selected:l.isSelected(e)}]),"aria-selected":l.isSelected(e),tabindex:"-1",onPointerup:t=>l.makesElementChosen(e),onKeydown:(0,a.D2)((t=>l.makesElementChosen(e)),["enter"])},(0,P.zw)(e),43,k)))),128))],42,C)],512))}const j={class:"button"};function M(e,t){return(0,i.wg)(),(0,i.iD)("button",j,[(0,i.WI)(e.$slots,"default")])}var W=s(3744);const B={},T=(0,W.Z)(B,[["render",M]]);var $=T;const U={class:"select-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 7"},E=(0,i._)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.1387 0.52827C11.3991 0.788619 11.3991 1.21073 11.1387 1.47108L6.47206 6.13775C6.21171 6.3981 5.7896 6.3981 5.52925 6.13775L0.862581 1.47108C0.602231 1.21073 0.602231 0.788619 0.862581 0.52827C1.12293 0.26792 1.54504 0.26792 1.80539 0.52827L6.00065 4.72353L10.1959 0.52827C10.4563 0.26792 10.8784 0.26792 11.1387 0.52827Z"},null,-1),Z=[E];function N(e,t){return(0,i.wg)(),(0,i.iD)("svg",U,Z)}const K={},Q=(0,W.Z)(K,[["render",N]]);var V=Q,z={components:{SelectIcon:V,BaseBtn:$},props:{value:{type:Array,required:!0,default(){return[]}},items:{type:Array,required:!0,default(){return[]}},title:{type:String,default:"Выберите значение"},multiple:{type:Boolean,default:!1}},emits:{"update:value":null},data(){return{isOpen:!1,focusIndex:0}},computed:{visibilityClass(){return[this.isOpen?"visible":"hidden"]},itemsIsEmpty(){return!this.items.length}},watch:{focusIndex(){this.setsFocusToItem()}},mounted(){window.addEventListener("pointerup",this.closesSelectOnClickOutside)},beforeUnmount(){window.removeEventListener("pointerup",this.closesSelectOnClickOutside)},methods:{open(){this.isOpen=!0},close(){this.isOpen=!1},toggle(){this.isOpen?this.close():this.open()},closesSelectOnClickOutside({target:e}){const t=e.closest(".select")!==this.$refs.select;t&&this.isOpen&&this.close()},escapeHandlerOnContent(){this.close(),this.setsFocusOnTrigger()},setsFocusOnTrigger(){this.$refs.trigger.$el.focus()},pagedownHandlerOnTrigger(){this.isOpen&&this.setsFocusToItem()},setsFocusToItem(){this.$refs.items[this.focusIndex].focus()},increasesFocusIndex(){this.focusIndex!==this.items.length-1?this.focusIndex+=1:this.focusIndex=0},decreasesFocusIndex(){0!==this.focusIndex?this.focusIndex-=1:this.focusIndex=this.items.length-1},makesElementChosen(e){this.value.includes(e)?this.updatesValue(this.value.filter((t=>t!==e))):this.updatesValue(this.multiple?[...this.value,e]:[e])},updatesValue(e){this.$emit("update:value",e)},isSelected(e){return this.value.includes(e)},resetValue(e=null){e?this.updatesValue(this.value.filter((t=>t!==e))):this.updatesValue([])}}};const q=(0,W.Z)(z,[["render",A]]);var R=q;const Y={class:"selected-items"},G={class:"selected-items__wrapper selected-items__wrapper_list"},J={class:"visually-hidden"},ee={class:"selected-items__list"},te={class:"selected-items__wrapper"};function se(e,t,s,r,c,l){const n=(0,i.up)("CloseIcon"),o=(0,i.up)("BaseBtn"),d=(0,i.up)("BaseSubtitle");return(0,i.wg)(),(0,i.iD)("div",Y,[(0,i.wy)((0,i._)("div",G,[(0,i._)("h3",J,[(0,i.WI)(e.$slots,"title",{},(()=>[(0,i.Uk)(" Выбранные элементы ")]))]),(0,i._)("ul",ee,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.items,((e,t)=>((0,i.wg)(),(0,i.iD)("li",{key:e},[(0,i.Wm)(o,{ref_for:!0,ref:"items",class:"selected-items__item button_filled",onPointerup:s=>l.itemDeletionHandler(e,t),onKeydown:[(0,a.D2)((s=>l.itemDeletionHandler(e,t)),["enter"]),(0,a.D2)((0,a.iM)((s=>l.itemDeletionHandler(e,t)),["prevent"]),["space"])]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,P.zw)(e)+" ",1),(0,i.Wm)(n,{"aria-label":"Сбросить"})])),_:2},1032,["onPointerup","onKeydown"])])))),128))]),(0,i.Wm)(o,{class:"selected-items__del-all button_filled",onPointerup:l.handlerDeletionAll,onKeydown:[(0,a.D2)(l.handlerDeletionAll,["enter"]),(0,a.D2)((0,a.iM)(l.handlerDeletionAll,["prevent"]),["space"])]},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{"aria-label":"Сбросить всё"})])),_:1},8,["onPointerup","onKeydown"])],512),[[a.F8,l.itemsIsNotEmpty]]),(0,i.wy)((0,i._)("div",te,[(0,i.Wm)(d,{class:"selected-items__text-stub"},{default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"text-stub",{},(()=>[(0,i.Uk)("Элементы не выбраны")]))])),_:3})],512),[[a.F8,!l.itemsIsNotEmpty]])])}const ae={class:"close-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},ie=(0,i._)("path",{d:"M1 1L13 13M13 1L1 13"},null,-1),re=[ie];function ce(e,t){return(0,i.wg)(),(0,i.iD)("svg",ae,re)}const le={},ne=(0,W.Z)(le,[["render",ce]]);var oe=ne,de=s(378),ue={components:{BaseBtn:$,CloseIcon:oe,BaseSubtitle:de.Z},props:{items:{type:Array,required:!0,default(){return[]}}},emits:{"deleting-all":null,"deleting-item":null},computed:{itemsIsNotEmpty(){return this.items.length}},methods:{itemDeletionHandler(e,t){this.$emit("deleting-item",e),this.$nextTick().then((()=>{this.normalizesFocusAfterItemDeletion(t)}))},normalizesFocusAfterItemDeletion(e){if(!this.items.length)return;const t=e!==this.items.length?e:e-1;this.$refs.items[t].$el.focus()},handlerDeletionAll(){this.$emit("deleting-all")}}};const pe=(0,W.Z)(ue,[["render",se]]);var me=pe,ge={components:{LoadStatusHandler:L.Z,BaseTitle:_.Z,BaseSelect:R,SelectedItems:me},emits:{"changing-filters":null},data(){return{filters:{category:[],colors:[]},valuesForFilters:{},contentIsLock:!1,nameQueryParam:"filters"}},computed:{validatedFilters(){return Object.fromEntries(Object.entries(this.filters).filter((([,e])=>{const t=!e||!Object.keys(e).length;return!t})))},listFiltersValue(){return Object.values(this.filters).flat()}},watch:{filters:{handler(){this.filterChangeHandler(),this.savesFiltersInQueryParams()},deep:!0}},mounted(){this.setsFiltersByQueryParams(),this.setsValuesForFilters(),window.addEventListener("popstate",this.setsFiltersByQueryParams)},beforeUnmount(){window.removeEventListener("popstate",this.setsFiltersByQueryParams)},methods:{filterChangeHandler(){this.$emit("changing-filters",this.validatedFilters)},savesFiltersInQueryParams(){let e=this.validatesFiltersFromQueryParams(v(this.nameQueryParam)??{});X(e,this.validatedFilters)||(Object.keys(this.validatedFilters).length?I(this.nameQueryParam,this.validatedFilters):S(this.nameQueryParam))},validatesFiltersFromQueryParams(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>{const s=Object.prototype.hasOwnProperty.call(this.filters,e),a=Object.prototype.toString.call(this.filters[e])===Object.prototype.toString.call(t);return s&&a})))},setsFiltersByQueryParams(){try{let e=this.validatesFiltersFromQueryParams(v(this.nameQueryParam)??{});if(!Object.keys(e).length)return void S(this.nameQueryParam);for(let t in this.filters)Object.prototype.hasOwnProperty.call(e,t)?this.filters[t]=e[t]:this.$refs[t].resetValue()}catch(e){S(this.nameQueryParam)}},setsValuesForFilters(){this.$refs.loadStatusHandler.setsPendingStatus(),x().then((e=>{Object.keys(e).length?(this.valuesForFilters=e,this.$refs.loadStatusHandler.setsFulfilledStatus()):this.$refs.loadStatusHandler.setsRejectedStatus()})).catch((()=>{this.$refs.loadStatusHandler.setsRejectedStatus()}))},attemptHandler(){this.setsValuesForFilters()},loadStatusChangeHandler(e){this.contentIsLock="fulfilled"!==e},itemDeletionHandler(e){for(let t in this.filters)this.valuesForFilters[t]?.includes(e)&&this.$refs[t].resetValue(e)},handlerDeletionAll(){for(let e in this.filters)this.$refs[e].resetValue()}}};const be=(0,W.Z)(ge,[["render",m]]);var he=be;const fe={class:"catalog-items"},we={class:"container"},ye={class:"catalog-items__wrapper"},xe=(0,i._)("h2",{class:"visually-hidden"},"Каталог товаров",-1),Ie={class:"catalog-items__counter","aria-live":"polite"},ve=["aria-hidden"],Se={ref:"sliderWrapper",class:"catalog-items__slider"},Xe={class:"catalog-items__page-switching"};function Le(e,t,s,r,c,l){const n=(0,i.up)("CardProduct"),o=(0,i.up)("swiper-slide"),d=(0,i.up)("swiper"),u=(0,i.up)("LoadStatusHandler"),p=(0,i.up)("BaseNavigation"),m=(0,i.up)("BasePagination"),g=(0,i.up)("BaseSubtitle");return(0,i.wg)(),(0,i.iD)("section",fe,[(0,i._)("div",we,[(0,i.wy)((0,i._)("div",ye,[xe,(0,i._)("p",Ie,[(0,i._)("span",{"aria-hidden":c.contentIsLock}," Показано: "+(0,P.zw)(c.page)+" из "+(0,P.zw)(l.maxAmountPages)+" страниц ",9,ve)]),(0,i._)("div",Se,[(0,i.Wm)(d,(0,i.dG)({modules:r.modules},l.swiperParams,{onInit:l.initSwiperHandler,onSlideChange:l.slideChangeSwiperHandler,onResize:l.resizeSwiperHandler}),{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.listPagesWithStubs,((e,t)=>((0,i.wg)(),(0,i.j4)(o,{key:t,"virtual-index":t},{default:(0,i.w5)((({isVisible:t})=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e,((e,s)=>((0,i.wg)(),(0,i.j4)(n,{key:s,product:e,inert:!t||c.contentIsLock},null,8,["product","inert"])))),128))])),_:2},1032,["virtual-index"])))),128))])),_:1},16,["modules","onInit","onSlideChange","onResize"]),(0,i.Wm)(u,{ref:"loadStatusHandler",onStatusChange:l.loadStatusChangeHandler,onAttempt:l.attemptHandler},null,8,["onStatusChange","onAttempt"])],512),(0,i._)("div",Xe,[(0,i.Wm)(p,{class:"navigation_hollow navigation_prev swiper-button-prev"}),(0,i.Wm)(m,{page:c.page,"onUpdate:page":t[0]||(t[0]=e=>c.page=e),"max-amount-pages":l.maxAmountPages,disabled:c.contentIsLock},null,8,["page","max-amount-pages","disabled"]),(0,i.Wm)(p,{class:"navigation_hollow navigation_next swiper-button-next"})])],512),[[a.F8,!l.listPagesIsEmpty]]),(0,i.wy)((0,i.Wm)(g,{class:"catalog-items__not-found",role:"alert"},{default:(0,i.w5)((()=>[(0,i.Uk)(" По вашему запросу ничего не найдено ")])),_:1},512),[[a.F8,l.listPagesIsEmpty]])])])}var _e=s(4465),Pe=s(8482),Oe=s(404),Fe=s(8645),He=s(8299);const De=["aria-label","aria-current","onPointerup","onKeydown"];function Ce(e,t,s,r,c,l){return(0,i.wg)(),(0,i.iD)("ul",{class:(0,P.C_)(["pagination",{pagination_disabled:s.disabled}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.pageIndexesForOutput,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e},[(0,i._)("button",{class:(0,P.C_)(["pagination__item",{active:e===s.page}]),"aria-label":l.paginationMessage.replace("${index}",e),"aria-current":e===s.page,onPointerup:t=>l.updatesPage(e),onKeydown:[(0,a.D2)((t=>l.updatesPage(e)),["enter"]),(0,a.D2)((t=>l.updatesPage(e)),["space"])]},(0,P.zw)(e),43,De)])))),128))],2)}var ke={props:{page:{type:Number,required:!0,default:1},maxAmountPages:{type:Number,required:!0,default:1},amountDisplayedPaginationButtons:{type:Number,default:5},a11y:{type:Object,default(){return{}}},disabled:{type:Boolean,default:!1}},emits:{"update:page":null},computed:{pageIndexes(){return Array.from(Array(this.maxAmountPages),((e,t)=>t+1))},amountSideItems(){return Math.floor(this.amountDisplayedPaginationButtons/2)},startIdx(){const e=this.page-1-this.amountSideItems;let t=e<0?0:e;return this.page+this.amountSideItems>=this.maxAmountPages&&(t-=this.amountSideItems-(this.maxAmountPages-this.page)),t},endIdx(){let e=this.page+this.amountSideItems;return 0==this.startIdx&&(e+=this.amountSideItems-(this.page-1)),e},pageIndexesForOutput(){return this.pageIndexes.length<=this.amountDisplayedPaginationButtons?this.pageIndexes:this.pageIndexes.slice(this.startIdx,this.endIdx)},paginationMessage(){return this.a11y.paginationMessage??"Перейти на ${index} страницу"}},methods:{updatesPage(e){this.disabled||this.$emit("update:page",e)}}};const Ae=(0,W.Z)(ke,[["render",Ce]]);var je=Ae,Me={components:{Swiper:Oe.tq,SwiperSlide:Oe.o5,CardProduct:Fe.Z,LoadStatusHandler:L.Z,BaseNavigation:He.Z,BasePagination:je,BaseSubtitle:de.Z},props:{filters:{type:Object,default(){return{}}}},setup(){return{modules:[Pe.eZ,Pe.W_,Pe.s5]}},data(){return{page:1,amount:6,total:void 0,listPages:{},contentIsLock:!1,swiper:void 0}},computed:{requestParams(){return{...this.filters,page:this.page,amount:this.amount}},swiperParams(){return{spaceBetween:30,virtual:!0,simulateTouch:!1,watchSlidesProgress:!0,navigation:{prevEl:".catalog-items .navigation_prev",nextEl:".catalog-items .navigation_next"},a11y:{firstSlideMessage:"Это первая страница",lastSlideMessage:"Это последняя страница",nextSlideMessage:"Следующая страница",prevSlideMessage:"Предыдущая страница"}}},maxAmountPages(){return Math.ceil(this.total/this.amount)||1},listPagesWithStubs(){return Object.fromEntries(Array.from(Array(this.maxAmountPages),((e,t)=>{let s=t+1,a=this.listPages[s];if(!a){let e=s===this.maxAmountPages,t=s*this.amount>this.total;a=e&&t&&this.total?Array(this.total-(s-1)*this.amount).fill({}):Array(this.amount).fill({})}return[s,a]})))},listPagesIsEmpty(){return Object.keys(this.listPages).length&&!Object.values(this.listPages).flat().length}},watch:{page(){this.listPages[this.page]||this.addsItemsOnPage(),this.syncsSwiperProgress(),setTimeout(this.scrollsTopWhenPageChanges,100),setTimeout(this.updatesSwiperHeight,0)},contentIsLock(){this.togglesStateSwiper()},filters(){1==this.page&&this.addsItemsOnPage(),this.resetsProgress()}},mounted(){this.addsItemsOnPage()},methods:{addsItemsOnPage(){const e=this.requestParams;this.$refs.loadStatusHandler.setsPendingStatus(),y(this.requestParams).then((({data:t=null,total:s=NaN})=>{X(e,this.requestParams)&&(t&&s===s?(this.total=s,this.listPages[e.page]=t,this.$refs.loadStatusHandler.setsFulfilledStatus()):this.$refs.loadStatusHandler.setsRejectedStatus())})).catch((()=>{X(e,this.requestParams)&&this.$refs.loadStatusHandler.setsRejectedStatus()}))},syncsSwiperProgress(){this.swiper.slideTo(this.page-1)},scrollsTopWhenPageChanges(){this.$refs.sliderWrapper.scrollIntoView({behavior:"smooth",block:"start"})},updatesSwiperHeight(){let e=this.swiper.visibleSlides[0]?.scrollHeight,t=parseFloat(this.swiper.el.style.maxHeight);t!=e&&e&&(this.swiper.el.style.maxHeight=`${e}px`)},togglesStateSwiper(){this.contentIsLock?this.swiper.disable():this.swiper.enable()},resetsProgress(){this.page=1,this.listPages={},this.total=void 0},attemptHandler(){this.addsItemsOnPage()},loadStatusChangeHandler(e){this.contentIsLock="fulfilled"!==e},initSwiperHandler(e){this.swiper=e,this.resetsAriaLiveSwiperWrapper(e.wrapperEl)},resetsAriaLiveSwiperWrapper(e){this.$nextTick().then((()=>{e.setAttribute("aria-live","off")}))},slideChangeSwiperHandler({activeIndex:e}){this.page=e+1},resizeSwiperHandler:(0,_e.Z)((function(){this.updatesSwiperHeight(),this.swiper.update()}),400)}};const We=(0,W.Z)(Me,[["render",Le]]);var Be=We,Te=s(3199),$e={name:"App",components:{TheHeader:l.Z,TheHero:n.Z,TheCatalogFilters:he,TheCatalogItems:Be,TheFooter:Te.Z},data(){return{filters:{},crumbs:[["Главная","index.html"],["Каталог","catalog.html",!0]]}},methods:{filterChangeHandler(e){this.filters=e}}};const Ue=(0,W.Z)($e,[["render",c]]);var Ee=Ue;s(1102);(0,a.ri)(Ee).mount("#app")}},t={};function s(a){var i=t[a];if(void 0!==i)return i.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,a,i,r){if(!a){var c=1/0;for(d=0;d<e.length;d++){a=e[d][0],i=e[d][1],r=e[d][2];for(var l=!0,n=0;n<a.length;n++)(!1&r||c>=r)&&Object.keys(s.O).every((function(e){return s.O[e](a[n])}))?a.splice(n--,1):(l=!1,r<c&&(c=r));if(l){e.splice(d--,1);var o=i();void 0!==o&&(t=o)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,i,r]}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.j=701}(),function(){s.p="/"}(),function(){var e={701:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var i,r,c=a[0],l=a[1],n=a[2],o=0;if(c.some((function(t){return 0!==e[t]}))){for(i in l)s.o(l,i)&&(s.m[i]=l[i]);if(n)var d=n(s)}for(t&&t(a);o<c.length;o++)r=c[o],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},a=self["webpackChunkassembly"]=self["webpackChunkassembly"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998,64],(function(){return s(8382)}));a=s.O(a)})();
//# sourceMappingURL=catalog.eb154e10.js.map